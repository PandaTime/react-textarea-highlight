!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports.ReactTextareaHighlight=e(require("react")):t.ReactTextareaHighlight=e(t.React)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var n=r(1);t.exports=n},function(t,e,r){(function(e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(3),s=n(l),f=r(4),h=n(f),p=function(t,e){return e.reduce(function(e,r){return e[r]=t[r],e},{})},g=function(t,e){return p(t,Object.keys(t).filter(function(t){return!(0,h.default)(e,t)}))},v=function(t){function e(t){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.state={value:t.value},r._handleInputChange=r._handleInputChange.bind(r),r._handleScroll=r._handleScroll.bind(r),r._handleRegexHighlight=r._handleRegexHighlight.bind(r),r._handleArrayHighlight=r._handleArrayHighlight.bind(r),r}return u(e,t),c(e,[{key:"componentWillReceiveProps",value:function(t){t.value!==this.state.value&&(this.setState({value:t.value}),this.backdrop.scrollTop=this.textarea.scrollTop)}},{key:"_handleInputChange",value:function(t){var e=this.props.onChange;return this.setState({value:t.target.value}),e(t)}},{key:"_handleScroll",value:function(t){var e=this.props.onScroll,r=t.target.scrollTop;return this.backdrop.scrollTop=r,e(t)}},{key:"_handleRegexHighlight",value:function(t,e){var r="<"+this.props.wrapIn+">",n="</"+this.props.wrapIn+">";return t.replace(e,r+"$&"+n)}},{key:"_handleArrayHighlight",value:function(t,e){var r=0,n=this.props.wrapIn,o="<"+n+">",i="</"+n+">";return e.forEach(function(e){var u=e[0]+r;if(e[2]){var a="<"+n+" class="+e[2]+">";t=t.slice(0,u)+a+t.slice(u),r+=a.length}else t=t.slice(0,u)+o+t.slice(u),r+=o.length;var c=e[1]+r;t=t.slice(0,c)+i+t.slice(c),r+=i.length},this),t}},{key:"getHighlights",value:function(){var t="</"+this.props.wrapIn+">",e=this.state.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=this.props.highlight(e);if(r)switch(r.constructor.name){case"Array":e=this._handleArrayHighlight(e,r);break;case"RegExp":e=this._handleRegexHighlight(e,r);break;default:throw new TypeError("props.highlight did not return RegExp or Array")}return e=e.replace(new RegExp("\\n("+t+")?$"),"\n\n$1")}},{key:"render",value:function(){var t=this,e="rth-container",r=this.props.className?[this.props.className,e].join(" "):e;return s.default.createElement("div",{className:r},s.default.createElement("div",{className:"rth-backdrop",ref:function(e){return t.backdrop=e}},s.default.createElement("div",{className:"rth-highlights rth-content",dangerouslySetInnerHTML:{__html:this.getHighlights()}})),s.default.createElement("textarea",a({"data-gramm":!0,ref:function(e){return t.textarea=e}},g(this.props,["highlight","wrapIn","value"]),{className:"rth-input rth-content",onChange:this._handleInputChange,onScroll:this._handleScroll,value:this.state.value})))}}]),e}(l.Component);"production"!==e.env.NODE_ENV?v.propTypes={value:l.PropTypes.string,className:l.PropTypes.string,highlight:l.PropTypes.func,wrapIn:l.PropTypes.string,onChange:l.PropTypes.func,onScroll:l.PropTypes.func}:void 0,v.defaultProps={value:"",highlight:function(){return[]},wrapIn:"mark",onChange:function(){},onScroll:function(){}},t.exports=v}).call(e,r(2))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function u(){v&&p&&(v=!1,p.length?g=p.concat(g):y=-1,g.length&&a())}function a(){if(!v){var t=o(u);v=!0;for(var e=g.length;e;){for(p=g,g=[];++y<e;)p&&p[y].run();y=-1,e=g.length}p=null,v=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var s,f,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var p,g=[],v=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];g.push(new c(t,e)),1!==g.length||v||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,r){e.exports=t},function(t,e){function r(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function n(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function o(t,e,r){if(e!==e)return n(t,i,r);for(var o=r-1,u=t.length;++o<u;)if(t[o]===e)return o;return-1}function i(t){return t!==t}function u(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function a(t,e){return r(e,function(e){return t[e]})}function c(t,e){return function(r){return t(e(r))}}function l(t,e){var r=Q(t)||g(t)?u(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!W.call(t,i)||o&&("length"==i||f(i,n))||r.push(i);return r}function s(t){if(!h(t))return J(t);var e=[];for(var r in Object(t))W.call(t,r)&&"constructor"!=r&&e.push(r);return e}function f(t,e){return e=null==e?I:e,!!e&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function h(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||V;return t===r}function p(t,e,r,n){t=v(t)?t:E(t),r=r&&!n?j(r):0;var i=t.length;return r<0&&(r=K(i+r,0)),T(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&o(t,e,r)>-1}function g(t){return y(t)&&W.call(t,"callee")&&(!B.call(t,"callee")||z.call(t)==H)}function v(t){return null!=t&&b(t.length)&&!d(t)}function y(t){return w(t)&&v(t)}function d(t){var e=m(t)?z.call(t):"";return e==R||e==N}function b(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=I}function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function T(t){return"string"==typeof t||!Q(t)&&w(t)&&z.call(t)==C}function x(t){return"symbol"==typeof t||w(t)&&z.call(t)==$}function _(t){if(!t)return 0===t?t:0;if(t=O(t),t===S||t===-S){var e=t<0?-1:1;return e*P}return t===t?t:0}function j(t){var e=_(t),r=e%1;return e===e?r?e-r:e:0}function O(t){if("number"==typeof t)return t;if(x(t))return A;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(L,"");var r=q.test(t);return r||F.test(t)?G(t.slice(2),r?2:8):M.test(t)?A:+t}function k(t){return v(t)?l(t):s(t)}function E(t){return t?a(t,k(t)):[]}var S=1/0,I=9007199254740991,P=1.7976931348623157e308,A=NaN,H="[object Arguments]",R="[object Function]",N="[object GeneratorFunction]",C="[object String]",$="[object Symbol]",L=/^\s+|\s+$/g,M=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,F=/^0o[0-7]+$/i,D=/^(?:0|[1-9]\d*)$/,G=parseInt,V=Object.prototype,W=V.hasOwnProperty,z=V.toString,B=V.propertyIsEnumerable,J=c(Object.keys,Object),K=Math.max,Q=Array.isArray;t.exports=p}])});
//# sourceMappingURL=react-textarea-highlight.min.js.map