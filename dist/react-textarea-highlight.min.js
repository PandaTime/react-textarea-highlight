!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports.ReactTextareaHighlight=e(require("react")):t.ReactTextareaHighlight=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1);t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(3),c=function(t,e){return e.reduce(function(e,n){return e[n]=t[n],e},{})},s=function(t,e){return c(t,Object.keys(t).filter(function(t){return!e.includes(t)}))},p=function(t){var e=t.highlight,n=t.color,r=t.children;return l.createElement("mark",{style:{backgroundColor:e,color:n}},r)};"production"!==e.env.NODE_ENV?p.propTypes={highlight:l.PropTypes.string,color:l.PropTypes.string,children:l.PropTypes.oneOfType([l.PropTypes.element,l.PropTypes.string])}:void 0;var f=["line-height","color","word-spacing","padding","margin","font-style","font-variant","font-weight","font-stretch","font-size","line-height","font-family","font-feature-settings","font-kerning"],h=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={value:t.value||""},n.onInput=n.onInput.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onScroll=n.onScroll.bind(n),n.updateScrollPosition=n.updateScrollPosition.bind(n),n.wrap=n.wrap.bind(n),n}return i(e,t),a(e,[{key:"onInput",value:function t(e){var n=e.target.value,t=this.props.onInput;return this.setState({value:n},this.updateScrollPosition),t(e)}},{key:"componentDidMount",value:function(){this.props.value&&this.setState({value:this.props.value})}},{key:"componentWillReceiveProps",value:function(t){t.value!==this.state.value&&(this.setState({value:t.value}),this.updateScrollPosition())}},{key:"onKeyDown",value:function t(e){var t=this.props.onKeyDown;return this.updateScrollPosition(),t(e)}},{key:"onScroll",value:function t(e){var t=this.props.onScroll;return this.updateScrollPosition(),t(e)}},{key:"updateScrollPosition",value:function(){var t=this;this.overlay&&this.textarea&&(this.overlay.scrollTop=this.textarea.scrollTop),setTimeout(function(){return t.overlay.scrollTop=t.textarea.scrollTop},4,this)}},{key:"wrap",value:function(t){if(!this.textarea)return"";var e=this.props,n=e.breakOn,r=e.wrapIn,o=e.withColor,i=e.withHighlight,u=t.endsWith("\n")?t+"\n":t;return u.split(n).map(function(t,e){var n=i(t);return l.createElement(r,{key:e,highlight:n,color:o(t,n)},t)},this)}},{key:"render",value:function(){var t=this;return l.createElement("div",{className:"rth-container"},l.createElement("textarea",u({"data-gramm":!0,className:"text-default",ref:function(e){if(!t.styles){var n=c(document.defaultView.getComputedStyle(e),f);t.styles=n}t.updateScrollPosition(),t.textarea=e}},s(this.props,["breakOn","withColor","wrapIn","withHighlight","value"]),{value:this.state.value,onInput:this.onInput,onKeyDown:this.onKeyDown,onScroll:this.onScroll})),l.createElement("div",{className:"rth-overlay",ref:function(e){return t.overlay=e}},l.createElement("span",{className:"rth-overlay-text text-default",style:this.styles},this.wrap(this.state.value))))}}]),e}(l.Component);"production"!==e.env.NODE_ENV?h.propTypes={value:l.PropTypes.string,onInput:l.PropTypes.func,onKeyDown:l.PropTypes.func,onScroll:l.PropTypes.func,breakOn:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.instanceOf(RegExp)]),wrapIn:l.PropTypes.func,withHighlight:l.PropTypes.func,withColor:l.PropTypes.func}:void 0,h.defaultProps={onInput:function(){},onKeyDown:function(){},onScroll:function(){},breakOn:/\b/,wrapIn:p,withHighlight:function(t){return"transparent"},withColor:function(t,e){return"transparent"}},t.exports=h}).call(e,n(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function u(){v&&h&&(v=!1,h.length?y=h.concat(y):d=-1,y.length&&a())}function a(){if(!v){var t=o(u);v=!0;for(var e=y.length;e;){for(h=y,y=[];++d<e;)h&&h[d].run();d=-1,e=y.length}h=null,v=!1,i(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var s,p,f=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var h,y=[],v=!1,d=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];y.push(new l(t,e)),1!==y.length||v||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,n){e.exports=t}])});
//# sourceMappingURL=react-textarea-highlight.min.js.map